"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[17],{17:(e,t,a)=>{a.r(t),a.d(t,{default:()=>i});var c=a(858),s=a(3),l=a(213),r=a(43),n=a(216),o=(a(611),a(579));const i=function(){const{register:e,handleSubmit:t}=(0,c.mN)(),{currentUser:a}=(0,s.d4)((e=>e.userAuthorLoginReducer)),[i,d]=(0,r.useState)(""),m=(0,n.Zp)(),h=localStorage.getItem("token"),u=l.A.create({headers:{Authorization:"Bearer ".concat(h)}});return(0,o.jsx)("div",{className:"container ",children:(0,o.jsx)("div",{className:"row justify-content-center mt-5",children:(0,o.jsx)("div",{className:"col-lg-8 col-md-8 col-sm-10",children:(0,o.jsxs)("div",{className:"card shadow",children:[(0,o.jsx)("div",{className:"card-title text-center border-bottom",children:(0,o.jsx)("h2",{className:"p-3",children:"Write an Article"})}),(0,o.jsxs)("div",{className:"card-body bg-light",children:[i&&(0,o.jsx)("p",{className:"text-danger fs-5",children:i}),(0,o.jsxs)("form",{onSubmit:t((async e=>{const t={articleid:Date.now(),title:e.title,category:e.category,content:e.content,dateofcreation:(new Date).toISOString(),dateofmodification:(new Date).toISOString(),username:a.username,comments:[],status:!0};console.log("Posting article:",t);try{const e=await u.post("http://localhost:5000/author-api/article",t);console.log("API Response:",e),"New article created"===e.data.message?m("/profile-author/articles-by-author/".concat(a.username)):d(e.data.message)}catch(c){d("An error occurred while creating the article."),console.error("API Error:",c)}})),children:[(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsx)("label",{htmlFor:"title",className:"form-label",children:"Title"}),(0,o.jsx)("input",{type:"text",className:"form-control",id:"title",...e("title")})]}),(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsx)("label",{htmlFor:"category",className:"form-label",children:"Select a category"}),(0,o.jsxs)("select",{...e("category"),id:"category",className:"form-select",children:[(0,o.jsx)("option",{value:"programming",children:"Programming"}),(0,o.jsx)("option",{value:"AI&ML",children:"AI & ML"}),(0,o.jsx)("option",{value:"database",children:"Database"}),(0,o.jsx)("option",{value:"web-development",children:"Web Development"}),(0,o.jsx)("option",{value:"mobile-apps",children:"Mobile Apps"}),(0,o.jsx)("option",{value:"cloud-computing",children:"Cloud Computing"}),(0,o.jsx)("option",{value:"cybersecurity",children:"Cybersecurity"}),(0,o.jsx)("option",{value:"blockchain",children:"Blockchain"}),(0,o.jsx)("option",{value:"data-science",children:"Data Science"}),(0,o.jsx)("option",{value:"machine-learning",children:"Machine Learning"})]})]}),(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsx)("label",{htmlFor:"content",className:"form-label",children:"Content"}),(0,o.jsx)("textarea",{...e("content"),className:"form-control",id:"content",rows:"10"})]}),(0,o.jsx)("div",{className:"text-end",children:(0,o.jsx)("button",{type:"submit",className:"text-light btn btn-primary",children:"Post"})})]})]})]})})})})}}}]);
//# sourceMappingURL=17.2f17cb23.chunk.js.map