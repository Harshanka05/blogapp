{"version":3,"file":"static/js/17.2f17cb23.chunk.js","mappings":"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","sources":["components/add-article/AddArticle.js"],"sourcesContent":["import \"./AddArticle.css\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { useSelector } from \"react-redux\";\r\nimport axios from \"axios\";\r\nimport { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\n\r\nfunction AddArticle() {\r\n    const { register, handleSubmit } = useForm();\r\n    const { currentUser } = useSelector(\r\n        (state) => state.userAuthorLoginReducer // Ensure this matches your actual reducer name\r\n    );\r\n    const [err, setErr] = useState(\"\");\r\n    const navigate = useNavigate();\r\n    const token = localStorage.getItem('token');\r\n\r\n    // Create axios instance with token\r\n    const axiosWithToken = axios.create({\r\n        headers: { Authorization: `Bearer ${token}` }\r\n    });\r\n\r\n    const postNewArticle = async (article) => {\r\n        const formattedArticle = {\r\n            articleid: Date.now(),\r\n            title: article.title,\r\n            category: article.category,\r\n            content: article.content,\r\n            dateofcreation: new Date().toISOString(),\r\n            dateofmodification: new Date().toISOString(),\r\n            username: currentUser.username,\r\n            comments: [],\r\n            status: true,\r\n        };\r\n\r\n        console.log(\"Posting article:\", formattedArticle); // Debugging: log the formatted article data\r\n\r\n        try {\r\n            const res = await axiosWithToken.post('http://localhost:5000/author-api/article', formattedArticle);\r\n            console.log(\"API Response:\", res); // Debugging: log the API response\r\n            if (res.data.message === 'New article created') {\r\n                navigate(`/profile-author/articles-by-author/${currentUser.username}`);\r\n            } else {\r\n                setErr(res.data.message);\r\n            }\r\n        } catch (error) {\r\n            setErr(\"An error occurred while creating the article.\");\r\n            console.error(\"API Error:\", error); // Debugging: log the error\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"container \">\r\n            <div className=\"row justify-content-center mt-5\">\r\n                <div className=\"col-lg-8 col-md-8 col-sm-10\">\r\n                    <div className=\"card shadow\">\r\n                        <div className=\"card-title text-center border-bottom\">\r\n                            <h2 className=\"p-3\">Write an Article</h2>\r\n                        </div>\r\n                        <div className=\"card-body bg-light\">\r\n                            {err && <p className='text-danger fs-5'>{err}</p>}\r\n                            <form onSubmit={handleSubmit(postNewArticle)}>\r\n                                <div className=\"mb-4\">\r\n                                    <label htmlFor=\"title\" className=\"form-label\">\r\n                                        Title\r\n                                    </label>\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        className=\"form-control\"\r\n                                        id=\"title\"\r\n                                        {...register(\"title\")}\r\n                                    />\r\n                                </div>\r\n\r\n                                <div className=\"mb-4\">\r\n                                    <label htmlFor=\"category\" className=\"form-label\">\r\n                                        Select a category\r\n                                    </label>\r\n                                    <select\r\n                                        {...register(\"category\")}\r\n                                        id=\"category\"\r\n                                        className=\"form-select\"\r\n                                    >\r\n                                        <option value=\"programming\">Programming</option>\r\n                                        <option value=\"AI&ML\">AI & ML</option>\r\n                                        <option value=\"database\">Database</option>\r\n                                        <option value=\"web-development\">Web Development</option>\r\n  <option value=\"mobile-apps\">Mobile Apps</option>\r\n  <option value=\"cloud-computing\">Cloud Computing</option>\r\n  <option value=\"cybersecurity\">Cybersecurity</option>\r\n  <option value=\"blockchain\">Blockchain</option>\r\n  <option value=\"data-science\">Data Science</option>\r\n  <option value=\"machine-learning\">Machine Learning</option>\r\n                                    </select>\r\n                                </div>\r\n                                <div className=\"mb-4\">\r\n                                    <label htmlFor=\"content\" className=\"form-label\">\r\n                                        Content\r\n                                    </label>\r\n                                    <textarea\r\n                                        {...register(\"content\")}\r\n                                        className=\"form-control\"\r\n                                        id=\"content\"\r\n                                        rows=\"10\"\r\n                                    ></textarea>\r\n                                </div>\r\n\r\n                                <div className=\"text-end\">\r\n                                    <button type=\"submit\" className=\"text-light btn btn-primary\">\r\n                                        Post\r\n                                    </button>\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default AddArticle;\r\n"],"names":["register","handleSubmit","useForm","currentUser","useSelector","state","userAuthorLoginReducer","err","setErr","useState","navigate","useNavigate","token","localStorage","getItem","axiosWithToken","axios","create","headers","Authorization","concat","_jsx","className","children","_jsxs","onSubmit","async","formattedArticle","articleid","Date","now","title","article","category","content","dateofcreation","toISOString","dateofmodification","username","comments","status","console","log","res","post","data","message","error","htmlFor","type","id","value","rows"],"sourceRoot":""}